<h1 mat-dialog-title>{{ data.formTitle }}</h1>

<form [formGroup]="personalForm" (ngSubmit)="onSubmit()">
    <div mat-dialog-content class="mat-dialog-content" fxLayout="column">

        <!-- Abteilung -->
        <div class="dropdown-section">
            <label>Abteilung:</label>
            <div class="dropdown-wrapper">
                <ng-multiselect-dropdown id="departments"
                                         class="custom-select-no-margin"
                                         [placeholder]="'Abteilung auswÃ¤hlen'"
                                         [settings]="dropdownDepartmentSettings"
                                         (onSelect)="onDepartmentSelect($event)"
                                         [data]="departments"
                                         formControlName="departments">
                    <ng-template let-item="item">
                        <div class="custom-item">
                            {{ item.name }}
                        </div>
                    </ng-template>
                </ng-multiselect-dropdown>
            </div>
        </div>

        <div>
            <mat-form-field appearance="fill">
                <mat-label>Vorname</mat-label>
                <input matInput id="firstname" formControlName="firstname">
                <mat-error *ngIf="personalForm.get('firstname')?.invalid && personalForm.get('firstname')?.touched">
                    Vorname ist erforderlich.
                </mat-error>
            </mat-form-field>
        </div>

        <div>
            <mat-form-field appearance="fill">
                <mat-label>Nachname</mat-label>
                <input matInput id="lastname" formControlName="lastname">
                <mat-error *ngIf="personalForm.get('lastname')?.invalid && personalForm.get('lastname')?.touched">
                    Nachname ist erforderlich.
                </mat-error>
            </mat-form-field>
        </div>

        <div>
            <mat-form-field appearance="fill">
                <mat-label>Mitarbeiter-ID</mat-label>
                <input matInput id="mitarbeiterId" formControlName="mitarbeiterId">
            </mat-form-field>
        </div>

    </div>

    <mat-toolbar class="fixed-toolbar">
        <span class="spacer"></span>
        <button mat-icon-button class="align-button color-cancel" matTooltip="Abbrechen" (click)="onNoClick()">
            <mat-icon>cancel</mat-icon>
        </button>
        <button mat-icon-button type="submit" class="align-button color-confirm" matTooltip="Speichern" [disabled]="personalForm.invalid">
            <mat-icon>save</mat-icon>
        </button>
    </mat-toolbar>
</form>
